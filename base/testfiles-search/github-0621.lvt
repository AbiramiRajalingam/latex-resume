\documentclass[german,final]{article}

\usepackage[ascii]{inputenc}

\input{test2e}
\START

\typeout{--- is article:}
\IfClassLoadedTF{article}{\typeout{true}}{\typeout{false}}
\typeout{--- is report:}
\IfClassLoadedTF{report}{\typeout{true}}{\typeout{false}}

\typeout{--- has german,final:}
\IfClassLoadedWithOptionsTF{article}{german,final}{\typeout{true}}{\typeout{false}}
\typeout{--- has final,german:}
\IfClassLoadedWithOptionsTF{article}{final,german}{\typeout{true}}{\typeout{false}}
\typeout{--- has draft:}
\IfClassLoadedWithOptionsTF{article}{draft}{\typeout{true}}{\typeout{false}}

\typeout{--- is report and final:}
\IfClassLoadedWithOptionsTF{report}{final}{\typeout{true}}{\typeout{false}}


\typeout{--- is inputenc:}
\IfPackageLoadedTF{inputenc}{\typeout{true}}{\typeout{false}}
\typeout{--- is trace:}
\IfPackageLoadedTF{trace}{\typeout{true}}{\typeout{false}}

\typeout{--- has ascii:}
\IfPackageLoadedWithOptionsTF{inputenc}{ascii}{\typeout{true}}{\typeout{false}}
\typeout{--- has ascii,utf8:}
\IfPackageLoadedWithOptionsTF{inputenc}{ascii,utf8}{\typeout{true}}{\typeout{false}}
\typeout{--- has utf8:}
\IfPackageLoadedWithOptionsTF{inputenc}{utf8}{\typeout{true}}{\typeout{false}}

\typeout{--- is trace and final:}
\IfPackageLoadedWithOptionsTF{trace}{final}{\typeout{true}}{\typeout{false}}



\begin{document}

\typeout{In body...}

\typeout{--- is article:}
\IfClassLoadedTF{article}{\typeout{true}}{\typeout{false}}
\typeout{--- is report:}
\IfClassLoadedTF{report}{\typeout{true}}{\typeout{false}}

\typeout{--- has german,final:}
\IfClassLoadedWithOptionsTF{article}{german,final}{\typeout{true}}{\typeout{false}}
\typeout{--- has final,german:}
\IfClassLoadedWithOptionsTF{article}{final,german}{\typeout{true}}{\typeout{false}}
\typeout{--- has draft:}
\IfClassLoadedWithOptionsTF{article}{draft}{\typeout{true}}{\typeout{false}}

\typeout{--- is report and final:}
\IfClassLoadedWithOptionsTF{report}{final}{\typeout{true}}{\typeout{false}}


\typeout{--- is inputenc:}
\IfPackageLoadedTF{inputenc}{\typeout{true}}{\typeout{false}}
\typeout{--- is trace:}
\IfPackageLoadedTF{trace}{\typeout{true}}{\typeout{false}}

\typeout{--- has ascii:}
\IfPackageLoadedWithOptionsTF{inputenc}{ascii}{\typeout{true}}{\typeout{false}}
\typeout{--- has ascii,utf8:}
\IfPackageLoadedWithOptionsTF{inputenc}{ascii,utf8}{\typeout{true}}{\typeout{false}}
\typeout{--- has utf8:}
\IfPackageLoadedWithOptionsTF{inputenc}{utf8}{\typeout{true}}{\typeout{false}}

\typeout{--- is trace and final:}
\IfPackageLoadedWithOptionsTF{trace}{final}{\typeout{true}}{\typeout{false}}



\END
