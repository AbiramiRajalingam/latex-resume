
\RequirePackage[enable-debug]{expl3}
\ExplSyntaxOn
\debug_on:n { check-declarations , deprecation }
\ExplSyntaxOff

\input{regression-test}

\START

\ExplSyntaxOn
\makeatletter

\hook_new:n {aaaa}
\hook_gput_code:nnn {aaaa}{A}{}
\hook_gset_rule:nnnn{aaaa}{A}{after}{B}
\hook_gput_code:nnn {aaaa}{B}
  {\hook_gset_rule:nnnn{aaaa}{x}{before}{y}}

\tex_everypar:D { \typeout{ERROR} }

\__hook_initialize_all:

\hook_use_once:n {aaaa}

\END
