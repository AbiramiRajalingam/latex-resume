
\RequirePackage[enable-debug]{expl3}
\ExplSyntaxOn
\debug_on:n { check-declarations , deprecation }
\ExplSyntaxOff

\input{regression-test}

\START

\ExplSyntaxOn
\__hook_initialize_all:
\ExplSyntaxOff

\NewHook{A}
\AddToHook{A}{\typeout{1}}
\UseOneTimeHook{A}
\UseOneTimeHook{A}
\AddToHook{A}{\typeout{2}}
\UseOneTimeHook{A}
\UseHook{A}

\END
