\input{test2e}

\START

\DeclareDocumentCommand\foo{m+oD(){bar}+vm!>{\SplitList{;}}O{b;a;z}t^e{_^}}
  {\typeout{##1:#1^^J##2:#2^^J##3:#3^^J##4:#4^^J##5:#5^^J##6:#6^^J##7:#7^^J##8:#8^^J##9:#9^^J}}

\ShowCommand\foo

\DeclareExpandableDocumentCommand\foo{moD||{bar}mO{b;a;z}+t^+e{_^}+R(){baz}}
  {\typeout{##1:#1^^J##2:#2^^J##3:#3^^J##4:#4^^J##5:#5^^J##6:#6^^J##7:#7^^J##8:#8^^J##9:#9^^J}}

\ShowCommand\foo

\END
